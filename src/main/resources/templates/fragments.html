<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head(title)">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">Gestor de Academias</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap/bootstrap.min.css}" />
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<!-- Navbar Fragment -->
<nav th:fragment="navbar(role, username)" class="navbar-custom">
    <div class="container-fluid" style="padding: 0 2rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
            <a th:href="@{'/' + ${role} + '/dashboard'}" class="navbar-brand-custom">
                <i class="bi bi-mortarboard-fill"></i> Gestor de Academias
            </a>
            <div class="navbar-user">
                <!-- Language Switcher -->
                <div class="language-switcher" style="display: flex; gap: 0.5rem; margin-right: 1rem;">
                    <a th:href="@{''(lang='es')}" class="btn-language" th:classappend="${#locale.toString() == 'es' ? 'active' : ''}" title="EspaÃ±ol">
                        ðŸ‡ªðŸ‡¸ ES
                    </a>
                    <a th:href="@{''(lang='en')}" class="btn-language" th:classappend="${#locale.toString() == 'en' ? 'active' : ''}" title="English">
                        ðŸ‡¬ðŸ‡§ EN
                    </a>
                </div>

                <div class="navbar-user-info">
                    <div class="navbar-user-avatar" th:text="${username?.substring(0,1)?.toUpperCase()}">U</div>
                    <span class="navbar-user-name" th:text="${username}">Usuario</span>
                </div>
                <form th:action="@{/logout}" method="post" style="display: inline; margin: 0;">
                    <button type="submit" class="btn-logout">
                        <i class="bi bi-box-arrow-right"></i> <span th:text="#{app.logout}">Cerrar SesiÃ³n</span>
                    </button>
                </form>
            </div>
        </div>
    </div>
</nav>

<!-- Admin Sidebar -->
<aside th:fragment="sidebar-admin(active)" class="sidebar-container">
    <ul class="sidebar-nav">
        <li class="sidebar-nav-item">
            <a th:href="@{/admin/dashboard}"
               class="sidebar-nav-link"
               th:classappend="${active == 'dashboard'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-grid-fill"></i></span>
                <span th:text="#{app.dashboard}">Dashboard</span>
            </a>
        </li>
        <li class="sidebar-nav-item">
            <a th:href="@{/admin/academias/lista}"
               class="sidebar-nav-link"
               th:classappend="${active == 'academias'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-building"></i></span>
                <span th:text="#{academy.list}">Academias</span>
            </a>
        </li>
        <li class="sidebar-nav-item">
            <a th:href="@{/profesores}"
               class="sidebar-nav-link"
               th:classappend="${active == 'profesores'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-person-badge"></i></span>
                <span th:text="#{teacher.list}">Profesores</span>
            </a>
        </li>
        <li class="sidebar-nav-item">
            <a th:href="@{/secretarias}"
               class="sidebar-nav-link"
               th:classappend="${active == 'secretarias'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-person-vcard"></i></span>
                <span th:text="#{secretary.title}">Secretarias</span>
            </a>
        </li>
    </ul>
</aside>

<!-- Secretaria Sidebar -->
<aside th:fragment="sidebar-secretaria(active)" class="sidebar-container">
    <ul class="sidebar-nav">
        <li class="sidebar-nav-item">
            <a th:href="@{/secretaria/dashboard}"
               class="sidebar-nav-link"
               th:classappend="${active == 'dashboard'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-grid-fill"></i></span>
                <span th:text="#{app.dashboard}">Dashboard</span>
            </a>
        </li>
        <li class="sidebar-nav-item">
            <a th:href="@{/secretaria/alumnos}"
               class="sidebar-nav-link"
               th:classappend="${active == 'alumnos'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-people-fill"></i></span>
                <span th:text="#{student.list}">Alumnos</span>
            </a>
        </li>
        <li class="sidebar-nav-item">
            <a th:href="@{/secretaria/cursos}"
               class="sidebar-nav-link"
               th:classappend="${active == 'cursos'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-book-fill"></i></span>
                <span th:text="#{course.list}">Cursos</span>
            </a>
        </li>
        <li class="sidebar-nav-item">
            <a th:href="@{/secretaria/aulas}"
               class="sidebar-nav-link"
               th:classappend="${active == 'aulas'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-door-closed-fill"></i></span>
                <span th:text="#{classroom.list}">Aulas</span>
            </a>
        </li>
        <li class="sidebar-nav-item">
            <a th:href="@{/secretaria/reservas}"
               class="sidebar-nav-link"
               th:classappend="${active == 'reservas'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-calendar-check-fill"></i></span>
                <span th:text="#{reservation.list}">Reservas</span>
            </a>
        </li>
    </ul>
</aside>

<!-- Profesor Sidebar -->
<aside th:fragment="sidebar-profesor(active)" class="sidebar-container">
    <ul class="sidebar-nav">
        <li class="sidebar-nav-item">
            <a th:href="@{/profesor/dashboard}"
               class="sidebar-nav-link"
               th:classappend="${active == 'dashboard'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-grid-fill"></i></span>
                <span>Dashboard</span>
            </a>
        </li>
    </ul>
</aside>

<!-- Propietario Sidebar -->
<aside th:fragment="sidebar-propietario(active)" class="sidebar-container">
    <ul class="sidebar-nav">
        <li class="sidebar-nav-item">
            <a th:href="@{/propietario/dashboard}"
               class="sidebar-nav-link"
               th:classappend="${active == 'dashboard'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-grid-fill"></i></span>
                <span>Dashboard</span>
            </a>
        </li>
    </ul>
</aside>

<!-- Alumno Sidebar -->
<aside th:fragment="sidebar-alumno(active)" class="sidebar-container">
    <ul class="sidebar-nav">
        <li class="sidebar-nav-item">
            <a th:href="@{/alumno/dashboard}"
               class="sidebar-nav-link"
               th:classappend="${active == 'dashboard'} ? 'active' : ''">
                <span class="sidebar-nav-icon"><i class="bi bi-grid-fill"></i></span>
                <span>Dashboard</span>
            </a>
        </li>
    </ul>
</aside>

<!-- Scripts Fragment -->
<div th:fragment="scripts">
    <script th:src="@{/js/bootstrap/bootstrap.bundle.min.js}"></script>
</div>

</html>
